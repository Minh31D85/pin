"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6357],{6357:(N,g,m)=>{m.r(g),m.d(g,{HomePageModule:()=>E});var _=m(2200),o=m(7343),u=m(4341),h=m(8132),p=m(467),e=m(3664);let f=(()=>{var a;class r{toggleEditName(){this.isEditName=!this.isEditName}toggleEditPin(){this.isEditPin=!this.isEditPin}constructor(i){this.modalCtrl=i,this.isEditName=!1,this.isEditPin=!1}editName(){this.isEditName=!0}editPin(){this.isEditPin=!0}cancel(){this.modalCtrl.dismiss(null,"cancel")}save(){const i=this.item.name.trim(),n=this.item.pin.trim();i?/^\d{4,8}$/.test(n)?this.modalCtrl.dismiss({index:this.index,updated:{name:i,pin:n}},"save"):alert("PIN must be numeric"):alert("name is required")}static#e=a=()=>(this.\u0275fac=function(n){return new(n||r)(e.rXU(o.W3))},this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal"]],inputs:{index:"index",item:"item"},decls:22,vars:12,consts:[["slot","end"],[3,"click"],["position","stacked"],[1,"edit-btn",3,"ngModelChange","ngModel","readonly"],["slot","end","fill","clear",3,"click"],["slot","icon-only","size","large",3,"color","name"],["inputmode","numeric",1,"edit-btn",3,"ngModelChange","ngModel","readonly"],["expand","block","color","primary",1,"ion-margin-top",3,"click"]],template:function(n,t){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Bearbeiten"),e.k0s(),e.j41(4,"ion-buttons",0)(5,"ion-button",1),e.bIt("click",function(){return t.cancel()}),e.EFF(6,"Close"),e.k0s()()()(),e.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",2),e.EFF(10,"name"),e.k0s(),e.j41(11,"ion-input",3),e.mxI("ngModelChange",function(s){return e.DH7(t.item.name,s)||(t.item.name=s),s}),e.k0s(),e.j41(12,"ion-button",4),e.bIt("click",function(){return t.toggleEditName()}),e.nrm(13,"ion-icon",5),e.k0s()(),e.j41(14,"ion-item")(15,"ion-label",2),e.EFF(16,"PIN"),e.k0s(),e.j41(17,"ion-input",6),e.mxI("ngModelChange",function(s){return e.DH7(t.item.pin,s)||(t.item.pin=s),s}),e.k0s(),e.j41(18,"ion-button",4),e.bIt("click",function(){return t.toggleEditPin()}),e.nrm(19,"ion-icon",5),e.k0s()(),e.j41(20,"ion-button",7),e.bIt("click",function(){return t.save()}),e.EFF(21," Speichern "),e.k0s()()),2&n&&(e.R7$(8),e.AVh("edit-active",t.isEditName),e.R7$(3),e.R50("ngModel",t.item.name),e.Y8G("readonly",!t.isEditName),e.R7$(2),e.Y8G("color",t.isEditName?"danger":"primary")("name",t.isEditName?"close-circle-outline":"add-circle-outline"),e.R7$(),e.AVh("edit-active",t.isEditPin),e.R7$(3),e.R50("ngModel",t.item.pin),e.Y8G("readonly",!t.isEditPin),e.R7$(2),e.Y8G("color",t.isEditPin?"danger":"primary")("name",t.isEditPin?"close-circle-outline":"add-circle-outline"))},dependencies:[o.bv,o.Jm,o.QW,o.W9,o.eU,o.iq,o.$w,o.uz,o.he,o.BC,o.ai,o.Gw,u.YN,u.BC,u.vS],styles:["ion-item.edit-active[_ngcontent-%COMP%]{--background: #f2f2f2;border-radius:8px}ion-item.edit-active[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}))}return a(),r})();var c=m(2615),k=m(4166),P=m(2122);function b(a,r){if(1&a){const d=e.RV6();e.j41(0,"ion-list")(1,"ion-item",13),e.bIt("click",function(){c.eBV(d);const n=e.XpG();return c.Njj(n.exportJSON())}),e.nrm(2,"ion-icon",14),e.EFF(3," Export "),e.k0s(),e.j41(4,"ion-item",13),e.bIt("click",function(){c.eBV(d);const n=e.XpG();return c.Njj(n.importJSON())}),e.nrm(5,"ion-icon",15),e.EFF(6," Import "),e.k0s()()}}function y(a,r){if(1&a){const d=e.RV6();e.j41(0,"ion-item",16),e.bIt("click",function(){const n=c.eBV(d).$implicit,t=e.XpG();return c.Njj(t.navigateTo(n))}),e.j41(1,"ion-label")(2,"h2"),e.EFF(3),e.k0s()(),e.j41(4,"ion-button",17),e.bIt("click",function(n){const t=c.eBV(d).index,l=e.XpG();return n.stopPropagation(),c.Njj(l.edit(t))}),e.nrm(5,"ion-icon",18),e.k0s(),e.j41(6,"ion-button",19),e.bIt("click",function(n){const t=c.eBV(d).index,l=e.XpG();return n.stopPropagation(),c.Njj(l.delete(t))}),e.nrm(7,"ion-icon",20),e.k0s()()}if(2&a){const d=r.$implicit;e.R7$(3),e.JRh(d.name)}}const C=[{path:"",component:(()=>{var a;class r{constructor(i,n,t,l){this.service=i,this.router=n,this.modalCtrl=t,this.alertCtrl=l,this.name="",this.pin="",this.isPVisible=!1}ngOnInit(){var i=this;return(0,p.A)(function*(){yield i.service.load()})()}togglePVisible(){this.isPVisible=!this.isPVisible}generate(){var i=this;return(0,p.A)(function*(){const n=i.name.trim(),t=i.pin.trim();if(n)if(t)if(/^\d{4,8}$/.test(t))try{yield i.service.add({name:n,pin:t}),i.name="",i.pin="",i.isPVisible=!1}catch(l){if("NAME_EXISTS"===l.message)return alert(`${n} already exists`),void(i.name="");alert("unexpected error occurred")}else alert("PIN must be exactly 4 digits to 8 digits");else alert("PIN is required");else alert("name is required")})()}delete(i){var n=this;return(0,p.A)(function*(){yield(yield n.alertCtrl.create({header:"L\xf6schen",message:"Wollen Sie den PIN l\xf6schen?",buttons:[{text:"L\xf6schen",role:"destructive",handler:()=>{n.service.remove(i)}},{text:"Zur\xfcck",role:"cancel"}]})).present()})()}edit(i){var n=this;return(0,p.A)(function*(){const t=n.service.itemList[i];if(!t)return;const l=yield n.modalCtrl.create({component:f,componentProps:{index:i,item:{...t}},breakpoints:[0,.5,.9],initialBreakpoint:.5});yield l.present();const{data:s,role:v}=yield l.onWillDismiss();if("save"===v&&s?.updated)try{yield n.service.update(s.index,s.updated)}catch(j){"NAME_EXISTS"===j.message?alert(`${s.updated.name} already exists`):alert("unexpected error occurred")}})()}navigateTo(i){this.router.navigate(["/pin-detail",i.name])}exportJSON(){var i=this;return(0,p.A)(function*(){console.log("EXPORT JSON",i.service.itemList),alert("Export kommt als n\xe4chstes.")})()}importJSON(){return(0,p.A)(function*(){})()}static#e=a=()=>(this.\u0275fac=function(n){return new(n||r)(e.rXU(k.k),e.rXU(P.Ix),e.rXU(o.W3),e.rXU(o.hG))},this.\u0275cmp=e.VBU({type:r,selectors:[["app-home"]],standalone:!1,decls:28,vars:7,consts:[[3,"translucent"],["slot","end"],["id","home-menu-trigger"],["slot","icon-only","name","menu-outline"],["trigger","home-menu-trigger","side","bottom","alignment","end","dismissOnSelect","true"],[3,"fullscreen"],["position","floating"],["type","text",3,"ngModelChange","keydown.enter","ngModel"],["inputmode","numeric",3,"ngModelChange","keydown.enter","type","ngModel"],["fill","clear","slot","end","type","button",3,"click"],["size","large","slot","icon-only",3,"name"],["expand","full","color","primary",3,"click"],[3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],["name","cloud-download-outline","slot","start"],["name","cloud-upload-outline","slot","start"],[3,"click"],["slot","end","color","success",3,"click"],["slot","icon-only","name","create-outline"],["slot","end","color","danger",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3," PIN "),e.k0s(),e.j41(4,"ion-buttons",1)(5,"ion-button",2),e.nrm(6,"ion-icon",3),e.k0s()()()(),e.j41(7,"ion-popover",4),e.DNE(8,b,7,0,"ng-template"),e.k0s(),e.j41(9,"ion-content",5)(10,"ion-card")(11,"ion-card-content")(12,"ion-item")(13,"ion-label",6),e.EFF(14,"Name"),e.k0s(),e.j41(15,"ion-input",7),e.mxI("ngModelChange",function(s){return e.DH7(t.name,s)||(t.name=s),s}),e.bIt("keydown.enter",function(){return t.generate()}),e.k0s()(),e.j41(16,"ion-item")(17,"ion-label",6),e.EFF(18,"Pin"),e.k0s(),e.j41(19,"ion-input",8),e.mxI("ngModelChange",function(s){return e.DH7(t.pin,s)||(t.pin=s),s}),e.bIt("keydown.enter",function(){return t.generate()}),e.j41(20,"ion-button",9),e.bIt("click",function(){return t.togglePVisible()}),e.nrm(21,"ion-icon",10),e.k0s()()(),e.j41(22,"ion-button",11),e.bIt("click",function(){return t.generate()}),e.EFF(23," hinzuf\xfcgen "),e.k0s()()(),e.j41(24,"ion-card")(25,"ion-card-content")(26,"ion-list"),e.DNE(27,y,8,1,"ion-item",12),e.k0s()()()()),2&n&&(e.Y8G("translucent",!0),e.R7$(9),e.Y8G("fullscreen",!0),e.R7$(6),e.R50("ngModel",t.name),e.R7$(4),e.Y8G("type",t.isPVisible?"text":"password"),e.R50("ngModel",t.pin),e.R7$(2),e.Y8G("name",t.isPVisible?"eye-off-outline":"eye-outline"),e.R7$(6),e.Y8G("ngForOf",t.service.itemList))},dependencies:[_.Sq,u.BC,u.vS,o.Jm,o.QW,o.b_,o.I9,o.W9,o.eU,o.iq,o.$w,o.uz,o.he,o.nf,o.BC,o.ai,o.CF,o.Gw],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}))}return a(),r})()}];let M=(()=>{var a;class r{static#e=a=()=>(this.\u0275fac=function(n){return new(n||r)},this.\u0275mod=e.$C({type:r}),this.\u0275inj=c.G2t({imports:[h.iI.forChild(C),h.iI]}))}return a(),r})(),E=(()=>{var a;class r{static#e=a=()=>(this.\u0275fac=function(n){return new(n||r)},this.\u0275mod=e.$C({type:r}),this.\u0275inj=c.G2t({imports:[_.MD,u.YN,o.bv,M]}))}return a(),r})()}}]);